(this.webpackJsonptemplate=this.webpackJsonptemplate||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(0),a=n(17),o=n.n(a),i=(n(24),n(8)),r=function(){var e=Object(s.useState)({}),t=Object(i.a)(e,2),n=t[0],a=t[1],o=Object(s.useState)({}),r=Object(i.a)(o,2),l=r[0],d=r[1],j=Object(s.useState)(),b=Object(i.a)(j,2),u=(b[0],b[1]),h=Object(s.useState)(0),f=Object(i.a)(h,2),O=f[0],g=(f[1],"https://h2c-react-final-project-default-rtdb.firebaseio.com/birds.json");Object(s.useEffect)((function(){fetch(g).then((function(e){200===e.status?e.json().then((function(e){a(e)})):console.log("Looks like there was a problem. Status Code: "+e.status)})).catch((function(e){console.log("Fetch Error : ",e)}))}),[]);var p=Array.from(Object.keys(n),(function(e){return n[e]}));console.log("number: "+p.length);var x=p.map((function(e,t){if(t===O)return Object(c.jsxs)("div",{id:"personDiv",children:["Bird",Object(c.jsx)("input",{id:"bird",name:"bird",type:"text",value:e.bird,onChange:function(e){return m(e)}}),Object(c.jsx)("br",{}),"Date",Object(c.jsx)("input",{id:"date",name:"date",type:"date",value:e.date,onChange:function(e){return m(e)}}),Object(c.jsx)("br",{}),"Place",Object(c.jsx)("input",{id:"place",name:"place",type:"text",value:e.place,onChange:function(e){return m(e)}}),Object(c.jsx)("br",{}),"Quantity",Object(c.jsx)("input",{id:"quantity",name:"quantity",type:"number",value:e.quantity,onChange:function(e){return m(e)}}),Object(c.jsx)("br",{})]})}));return Object(c.jsxs)("div",{class:"card",children:[Object(c.jsx)("h2",{children:"Add new bird sigthing"}),Object(c.jsx)("div",{class:"card-body",children:x}),Object(c.jsx)("button",{onClick:function(){console.log(l),fetch("https://h2c-react-final-project-default-rtdb.firebaseio.com/birds.json",{method:"PATCH","Content-Type":"application/json",body:'{"sigth'+(p.length+1)+'":'+JSON.stringify(l)+"}"}).then((function(e){200===e.status?e.json().then((function(e){console.log(e)})):console.log("Looks like there was a problem. Status Code: "+e.status)})).catch((function(e){console.log("Fetch Error : ",e)}))},children:"Save to database"}),Object(c.jsx)("p",{class:"image",children:"Refresh page (press F5) if you are adding several sightings after each other!"})]});function m(e){var t=0,c=null;for(var s in n)t===O&&(c=s),t++;var o=Object.assign({},n[c]);o[e.target.name]=e.target.value,console.log(o);var i=Object.assign({},n);i[c]=o,a(i),u(c),d(o)}},l=function(){var e=Object(s.useState)({}),t=Object(i.a)(e,2),n=t[0],a=t[1];Object(s.useEffect)((function(){fetch("https://h2c-react-final-project-default-rtdb.firebaseio.com/birds.json").then((function(e){200===e.status?e.json().then((function(e){a(e)})):console.log("Looks like there was a problem. Status Code: "+e.status)})).catch((function(e){console.log("Fetch Error : ",e)}))}),[]);var o=Array.from(Object.keys(n),(function(e){return n[e]}));console.log(o),console.log("number of sights:"+o.length);var r=o.map((function(e,t){return Object(c.jsx)("div",{children:Object(c.jsxs)("h5",{class:"card-title",children:["Bird: ",e.bird," - Date: ",e.date," - Place: ",e.place," - Quantity: ",e.quantity]})})}));return Object(c.jsxs)("div",{class:"card",children:[Object(c.jsx)("h2",{children:"Birds sightings in 2020"}),Object(c.jsxs)("div",{class:"card-body",children:["Total number of sights: ",o.length]}),Object(c.jsx)("div",{class:"card-body",children:r})]})},d=n.p+"static/media/birds.41699b6e.jpg",j=function(e){return Object(c.jsxs)("div",{class:"borderStyle",children:[Object(c.jsxs)("h1",{children:["Bird sighting log ",e.year]}),Object(c.jsx)("img",{src:d,alt:"birdwatching"})]})},b=(n(25),n(10)),u=n(2);var h=function(){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(j,{year:"2020"}),Object(c.jsxs)(b.a,{children:[Object(c.jsx)("p",{class:"image",children:"Image: Creative Commons"}),Object(c.jsxs)("nav",{children:[Object(c.jsx)("p",{children:Object(c.jsx)(b.b,{to:"/ExistInfo",children:"Birds you have already seen this year"})}),Object(c.jsx)("p",{children:Object(c.jsx)(b.b,{to:"/Addinfo",children:"Add a new bird sight to your list"})})]}),Object(c.jsx)(u.a,{path:"/Addinfo",exact:!0,component:r}),Object(c.jsx)(u.a,{path:"/ExistInfo",exact:!0,component:l})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(c.jsx)(h,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[31,1,2]]]);
//# sourceMappingURL=main.caa964be.chunk.js.map